<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Kin iOS SDK · Kin Developer Program</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;installation&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#installation&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Kin iOS SDK · Kin Developer Program"/><meta property="og:type" content="website"/><meta property="og:url" content="https://kinecosystem.github.io/kin-ecosystem-sdk-docs//kin-ecosystem-sdk-docs/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;installation&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#installation&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/kin-ecosystem-sdk-docs/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/kin-ecosystem-sdk-docs/css/main.css"/><script src="/kin-ecosystem-sdk-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/kin-ecosystem-sdk-docs/"><img class="logo" src="/kin-ecosystem-sdk-docs/img/Kin_ecosystem_logo.svg" alt="Kin Developer Program"/><h2 class="headerTitleWithLogo">Kin Developer Program</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/kin-ecosystem-sdk-docs/docs/intro.html" target="_self">Guides</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Docs</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/intro.html">Introduction</a></li><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/sdk-components.html">SDK Components</a></li><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/jwt.html">Authentication and JWT</a></li><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/jwt-service.html">JWT Service</a></li><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/getting-started.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/common-flows.html">Common Flows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Docs</h3><ul class=""><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/android-guide.html">Android</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/ios-guide.html">iOS</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Kin Blockchain Migration</h3><ul class=""><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/migration_android.html">Android</a></li><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/migration_ios.html">iOS</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">FAQ</h3><ul class=""><li class="navListItem"><a class="navItem" href="/kin-ecosystem-sdk-docs/docs/faq-sdk.html">SDK FAQ</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/kinecosystem/kin-ecosystem-sdk-docs/tree/master/docs/ios-guide.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Kin iOS SDK</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p>The fastest way to get started with the sdk is with cocoapods (&gt;= 1.4.0).</p>
<pre><code class="hljs"><span class="hljs-attribute">pod</span> <span class="hljs-string">'KinDevPlatform'</span>, <span class="hljs-string">'&lt;latest version&gt;'</span>
</code></pre>
<p>latest version can be found in <a href="https://github.com/kinecosystem/kin-devplatform-ios/releases">github releases</a></p>
<blockquote>
<p>Notice for apps using swift 3.2: the pod installation will change your project's swift version target to 4.0</br>
This is because the sdk uses swift 4.0, and cocoapods force the pod's swift version on the project. For now, you can manually change your project's swift version in the build setting. A better solution will be available soon.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="playground-and-production-environments"></a><a href="#playground-and-production-environments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Playground and Production Environments</h2>
<p>Kin provides two working environments:</p>
<ul>
<li><strong>Playground</strong> – a staging and testing environment using test servers and a blockchain test network.</li>
<li><strong>Production</strong> – uses production servers and the main blockchain network.</li>
</ul>
<p>Use the Playground environment to develop, integrate and test your app. Transition to the Production environment when you’re ready to go live with your Kin-integrated app.</p>
<p>When your app calls <code>Kin.start(…)</code>, you specify which environment to work with.</p>
<blockquote>
<ul>
<li>When working with the Playground environment, you can only register up to 1000 users. An attempt to register additional users will result in an error.</li>
<li>In order to switch between environments, you’ll need to clear the application data.</li>
</ul>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="setting-up-the-sample-app"></a><a href="#setting-up-the-sample-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting Up the Sample App</h2>
<p>The Kin SDK Sample App demonstrates how to perform common workflows such as creating a user account and creating Spend and Earn offers. You can build the Sample App from the <a href="https://github.com/kinecosystem/kin-devplatform-ios-sample-app">sample app github repository</a>.<br>
We recommend building and running the Sample App as a good way to get started with the Kin SDK and familiarize yourself with its functions.</p>
<blockquote>
<p><strong>NOTE:</strong> The Sample App is for demonstration only, and should not be used for any other purpose.</p>
</blockquote>
<p>The Sample App is pre-configured with the default whitelist credentials <code>appId='test'</code> and
<code>apiKey='AyINT44OAKagkSav2vzMz'</code> and with a default RSA512 JWT private key. These credentials can be used for integration testing in any app, but authorization will fail if you attempt to use them in a production environment.</p>
<p>You can also request unique apiKey and appId values from Kin, and override the default settings, working either in whitelist or JWT authentication mode.</p>
<h3><a class="anchor" aria-hidden="true" id="override-the-default-credential-settings"></a><a href="#override-the-default-credential-settings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Override the default credential settings</h3>
<p>Edit the <code>EcosystemSampleApp/defaultConfig.plist</code>, using the credentials values and method you received.</p>
<pre><code class="hljs css language-xml">   <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>RS512_PRIVATE_KEY<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>YOUR_RS512_PRIVATE_KEY<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span> <span class="hljs-comment">&lt;!-- Optional. Only required when testing JWT on the sample app. For production, JWT is created by server side with ES256 signature. --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>appKey<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>YOUR_API_KEY<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span> <span class="hljs-comment">&lt;!-- For whitelist registration. Default = 'AyINT44OAKagkSav2vzMz'. --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>appId<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>YOUR_APP_ID<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span> <span class="hljs-comment">&lt;!-- Your unique application id, required for both whitelist and JWT. Default = 'test'. --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>IS_JWT_REGISTRATION<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span> <span class="hljs-comment">&lt;!-- // Optional. To test sample app JWT registration, set this property to true. If not specified, default=false. --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">false</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="initialize-client-sdk"></a><a href="#initialize-client-sdk" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Initialize Client SDK</h2>
<p>Call <code>Kin.shared.start(...)</code>, passing the desired environment (playground/production) and your chosen authentication credentials (either whitelist or JWT credentials).</p>
<h4><a class="anchor" aria-hidden="true" id="whitelist"></a><a href="#whitelist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Whitelist:</h4>
<pre><code class="hljs css language-swift"><span class="hljs-type">Kin</span>.shared.start(userId: <span class="hljs-string">"myUserId"</span>, apiKey: <span class="hljs-string">"myAppKey"</span>, appId: <span class="hljs-string">"myAppId"</span>, environment: .playground)
</code></pre>
<p>userID - your application unique identifier for the user<br>
appID - your application unique identifier as provided by Kin.<br>
apiKey - your secret apiKey as provided by Kin.</p>
<h4><a class="anchor" aria-hidden="true" id="jwt"></a><a href="#jwt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jwt:</h4>
<p>Request a registration JWT from your server, once the client received this token, you can now start the sdk using this token.</p>
<pre><code class="hljs css language-swift"><span class="hljs-type">Kin</span>.shared.start(userId: <span class="hljs-string">"myUserId"</span>, jwt: registrationJWT, environment: .playground)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="launching-the-marketplace-experience"></a><a href="#launching-the-marketplace-experience" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Launching the marketplace experience</h3>
<p>To launch the marketplace experience, with earn and spend opportunities, from a viewController, simply call:</p>
<pre><code class="hljs css language-swift"><span class="hljs-type">Kin</span>.shared.launchMarketplace(from: <span class="hljs-keyword">self</span>)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getting-your-public-address"></a><a href="#getting-your-public-address" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting your public address</h3>
<p>Once kin is onboarded, you can view the stellar wallet address using:</p>
<pre><code class="hljs css language-swift"><span class="hljs-type">Kin</span>.shared.publicAddress
</code></pre>
<blockquote>
<p>note: this variable will return nil if called before kin is onboarded</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="getting-your-balance"></a><a href="#getting-your-balance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting your balance</h2>
<p>Balance is represented by a <code>Balance</code> struct:</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Balance</span>: <span class="hljs-title">Codable</span>, <span class="hljs-title">Equatable</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> amount: <span class="hljs-type">Decimal</span>
}
</code></pre>
<p>You can get your current balance using one of three ways:</p>
<h3><a class="anchor" aria-hidden="true" id="last-known-balance-for-the-current-account"></a><a href="#last-known-balance-for-the-current-account" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Last known balance for the current account:</h3>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> amount = <span class="hljs-type">Kin</span>.shared.lastKnownBalance?.amount {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"your balance is \(amount) KIN"</span>)
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// Kin is not started or an account wasn't created yet.</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="asynchronous-call-to-the-blockchain-network"></a><a href="#asynchronous-call-to-the-blockchain-network" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Asynchronous call to the blockchain network:</h3>
<pre><code class="hljs css language-swift"><span class="hljs-type">Kin</span>.shared.balance { balance, error <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> amount = balance?.amount <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error = error {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"balance fetch error: \(error)"</span>)
        }
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"your balance is \(amount) KIN"</span>)
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="observing-balance-with-a-blockchain-network-observer"></a><a href="#observing-balance-with-a-blockchain-network-observer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Observing balance with a blockchain network observer:</h3>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">var</span> balanceObserverId: <span class="hljs-type">String?</span> = <span class="hljs-literal">nil</span>
<span class="hljs-keyword">do</span> {
    balanceObserverId = <span class="hljs-keyword">try</span> <span class="hljs-type">Kin</span>.shared.addBalanceObserver { balance <span class="hljs-keyword">in</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"balance: \(balance.amount)"</span>)
    }
} <span class="hljs-keyword">catch</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Error setting balance observer: \(error)"</span>)
}

<span class="hljs-comment">// when you're done listening to balance changes, remove the observer:</span>

<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> observerId = balanceObserverId {
    <span class="hljs-type">Kin</span>.shared.removeBalanceObserver(observerId)
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="custom-spend-offer"></a><a href="#custom-spend-offer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Spend Offer</h2>
<p>A custom Spend offer allows your users to unlock unique spend opportunities that you define within your app, Custom offers are created by your app, as opposed to built-in offers displayed in the Kin Marketplace offer wall.<br>
Your app displays the offer, request user approval, and then performing the purchase using the <code>purchase</code> API.</p>
<h3><a class="anchor" aria-hidden="true" id="purchase-payment"></a><a href="#purchase-payment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Purchase Payment</h3>
<ol>
<li><p>Create a JWT that represents a <a href="jwt#SpendPayload">Spend offer JWT</a> signed by your application server. The fastest way for building JWT tokens is to use the <a href="jwt-service">JWT Service</a>.<br>
Once you have the JWT Service set up, perform a <a href="jwt-service#Spend">Spend query</a>,
the service will response with the generated signed JWT token.</p></li>
<li><p>Call <code>purchase</code> method, while passing the JWT you built and a callback function that will receive purchase confirmation.</p></li>
</ol>
<blockquote>
<p>The following snippet is taken from the SDK Sample App, in which the JWT is created and signed by the Android client side for presentation purposes only. Do not use this method in production! In production, the JWT must be signed by the server, with a secure private key.</p>
</blockquote>
<pre><code class="hljs css language-swift"><span class="hljs-type">Kin</span>.shared.purchase(offerJWT: encodedNativeOffer) { jwtConfirmation, error <span class="hljs-keyword">in</span>
  <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> confirm = jwtConfirmation {
    <span class="hljs-comment">// jwtConfirmation can be kept on digital service side as a receipt proving user received his Kin.</span>
    <span class="hljs-comment">// Send confirmation JWT back to the server in order prove that the user completed</span>
    <span class="hljs-comment">// the blockchain transaction and purchase can be unlocked for this user.</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> e = error {
    <span class="hljs-comment">// handle error</span>
  }
}
</code></pre>
<ol start="3">
<li>Complete the purchase after you receive confirmation from the Kin Server that the funds were transferred successfully.</li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="adding-to-the-marketplace"></a><a href="#adding-to-the-marketplace" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding to the Marketplace</h3>
<p>The Kin Marketplace offer wall displays built-in offers, which are served by Kin.<br>
Their purpose is to provide users with opportunities to earn initial Kin funding, which they can later spend on spend offers provided by hosting apps.</p>
<p>You can also choose to display a banner for your custom offer in the Kin Marketplace offer wall. This serves as additional &quot;real estate&quot; in which to let the user know about custom offers within your app. When the user clicks on your custom Spend offer in the Kin Marketplace, your app is notified, and then it continues to manage the offer activity in its own UX flow.</p>
<blockquote>
<p><strong>NOTE:</strong> You will need to actively launch the Kin Marketplace offer wall so your user can see the offers you added to it.</p>
</blockquote>
<p><em>To add a custom Spend offer to the Kin Marketplace:</em></p>
<ol>
<li>Create a <code>NativeSpendOffer</code> struct as in the example below.</li>
</ol>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">let</span> offer = <span class="hljs-type">NativeOffer</span>(id: <span class="hljs-string">"offer id"</span>, <span class="hljs-comment">// OfferId must be a UUID</span>
                      title: <span class="hljs-string">"offer title"</span>,
                      description: <span class="hljs-string">"offer description"</span>,
                      amount: <span class="hljs-number">1000</span>,
                      image: <span class="hljs-string">"an image URL string"</span>,
                      isModal: <span class="hljs-literal">true</span>)
</code></pre>
<blockquote>
<p>Note: setting a native offer's <code>isModal</code> property to true means that when a user taps on the native offer, the marketplace will first close (dismiss) before invoking the native offer's handler, if set. The default value is false.</p>
</blockquote>
<ol start="2">
<li>Set the  <code>nativeOfferHandler</code> closure on Kin.shared to receive a callback when the native offer has been tapped.</br>
The callback is of the form <code>public var nativeOfferHandler: ((NativeOffer) -&gt; ())?</code></li>
</ol>
<pre><code class="hljs css language-swift"><span class="hljs-comment">// example from the sample app:</span>
<span class="hljs-type">Kin</span>.shared.nativeOfferHandler = { offer <span class="hljs-keyword">in</span>
          <span class="hljs-type">DispatchQueue</span>.main.async {
              <span class="hljs-keyword">let</span> alert = <span class="hljs-type">UIAlertController</span>(title: <span class="hljs-string">"Native Offer"</span>, message: <span class="hljs-string">"You tapped a native offer and the handler was invoked."</span>, preferredStyle: .alert)
              alert.addAction(<span class="hljs-type">UIAlertAction</span>(title: <span class="hljs-string">"Close"</span>, style: .cancel, handler: { [<span class="hljs-keyword">weak</span> alert] action <span class="hljs-keyword">in</span>
                  alert?.dismiss(animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
              }))

              <span class="hljs-keyword">let</span> presentor = <span class="hljs-keyword">self</span>.presentedViewController ?? <span class="hljs-keyword">self</span>
              presentor.present(alert, animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
          }
      }
</code></pre>
<ol start="3">
<li>Add the native offer you created in the following way:</li>
</ol>
<blockquote>
<p>Note: Each new offer is added as the first offer in Spend Offers list the Marketplace displays.</p>
</blockquote>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">do</span> {
    <span class="hljs-keyword">try</span> <span class="hljs-type">Kin</span>.shared.add(nativeOffer: offer)
} <span class="hljs-keyword">catch</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"failed to add native offer, error: \(error)"</span>)
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="removing-from-marketplace"></a><a href="#removing-from-marketplace" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Removing from Marketplace</h3>
<p>To remove a custom Spend offer from the Kin Marketplace, call <code>Kin.shared.remove(...)</code>, passing the offer you want to remove.</p>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">do</span> {
    <span class="hljs-keyword">try</span> <span class="hljs-type">Kin</span>.shared.remove(nativeOfferId: offer.id)
} <span class="hljs-keyword">catch</span> {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Failed to remove offer, error: \(error)"</span>)
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="custom-earn-offer"></a><a href="#custom-earn-offer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Earn Offer</h2>
<p>A custom Earn offer allows your users to earn Kin as a reward for performing tasks you want to incentives, such as setting a profile picture or rating your app. Custom offers are created by your app, as opposed to built-in offers displayed in the Kin Marketplace offer wall.<br>
Once the user has completed the task associated with the Earn offer, you request Kin payment for the user.</p>
<h3><a class="anchor" aria-hidden="true" id="request-a-payment"></a><a href="#request-a-payment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Request A Payment</h3>
<ol>
<li><p>Create a JWT that represents a <a href="jwt#EarnPayload">Earn offer JWT</a> signed by your application server. The fastest way for building JWT tokens is to use the <a href="jwt-service">JWT Service</a>.<br>
Once you have the JWT Service set up, perform a <a href="jwt-service#Earn">Earn query</a>,
the service will response with the generated signed JWT token.</p></li>
<li><p>Call <code>requestPayment</code> while passing the JWT you built and a callback function that will receive purchase confirmation.</p></li>
</ol>
<blockquote>
<ul>
<li>The following snippet is taken from the SDK Sample App, in which the JWT is created and signed by the Android client side for presentation purposes only. Do not use this method in production! In production, the JWT must be signed by the server, with a secure private key.</li>
</ul>
</blockquote>
<pre><code class="hljs css language-swift"><span class="hljs-keyword">let</span> handler: <span class="hljs-type">ExternalOfferCallback</span> = { jwtConfirmation, error <span class="hljs-keyword">in</span>  
    <span class="hljs-keyword">let</span> alert = <span class="hljs-type">UIAlertController</span>(title: <span class="hljs-literal">nil</span>, message: <span class="hljs-literal">nil</span>, preferredStyle: .alert)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> confirm = jwtConfirmation {
        <span class="hljs-comment">// Callback will be called once payment transaction to the user completed successfully.</span>
        <span class="hljs-comment">// jwtConfirmation can be kept on digital service side as a receipt proving user received his Kin.</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> e = error {
        <span class="hljs-comment">//handle error</span>
    }  
}

<span class="hljs-type">Kin</span>.shared.requestPayment(offerJWT: encodedJWT, completion: handler)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="custom-pay-to-user-offer"></a><a href="#custom-pay-to-user-offer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Pay To User Offer</h2>
<p>A custom pay to user offer allows your users to unlock unique spend opportunities that you define within your app offered by other users.
(Custom offers are created by your app, as opposed to built-in offers displayed in the Kin Marketplace offer wall.<br>
Your app displays the offer, request user approval, and then performing the purchase using the <code>payToUser</code> API.</p>
<h3><a class="anchor" aria-hidden="true" id="pay-to-user"></a><a href="#pay-to-user" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pay to user</h3>
<p><em>To request payment for a custom Pay To User offer:</em></p>
<ol>
<li>Create a JWT that represents a <a href="jwt#PayToUserPayload">Pay to User offer JWT</a> signed by your application server. The fastest way for building JWT tokens is to use the <a href="jwt-service">JWT Service</a>.<br>
Once you have the JWT Service set up, perform a <a href="jwt-service#PayToUser">Pay To User query</a>,
the service will response with the generated signed JWT token.</li>
</ol>
<ol start="2">
<li>Call <code>Kin.payToUser(...)</code>, while passing the JWT you built and a callback function that will receive purchase confirmation.</li>
</ol>
<blockquote>
<p>The following snippet is taken from the SDK Sample App, in which the JWT is created and signed by the Android client side for presentation purposes only. Do not use this method in production! In production, the JWT must be signed by the server, with a secure private key.</p>
</blockquote>
<pre><code class="hljs css language-swift"><span class="hljs-type">Kin</span>.shared.payToUser(offerJWT: encodedNativeOffer) { jwtConfirmation, error <span class="hljs-keyword">in</span>
  <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> confirm = jwtConfirmation {
    <span class="hljs-comment">// jwtConfirmation can be kept on digital service side as a receipt proving user received his Kin.</span>
    <span class="hljs-comment">// Send confirmation JWT back to the server in order prove that the user completed</span>
    <span class="hljs-comment">// the blockchain transaction and purchase can be unlocked for this user.</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> e = error {
    <span class="hljs-comment">// handle error</span>
  }
}
</code></pre>
<ol start="3">
<li>Complete the pay to user offer after you receive confirmation from the Kin Server that the funds were transferred successfully.</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="license"></a><a href="#license" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p>The kin-devplatform-ios library is licensed under <a href="LICENSE.md">MIT license</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/kin-ecosystem-sdk-docs/docs/android-guide.html"><span class="arrow-prev">← </span><span>Android</span></a><a class="docs-next button" href="/kin-ecosystem-sdk-docs/docs/migration_android.html"><span>Android</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a></li><li><a href="#playground-and-production-environments">Playground and Production Environments</a></li><li><a href="#setting-up-the-sample-app">Setting Up the Sample App</a><ul class="toc-headings"><li><a href="#override-the-default-credential-settings">Override the default credential settings</a></li></ul></li><li><a href="#initialize-client-sdk">Initialize Client SDK</a><ul class="toc-headings"><li><a href="#launching-the-marketplace-experience">Launching the marketplace experience</a></li><li><a href="#getting-your-public-address">Getting your public address</a></li></ul></li><li><a href="#getting-your-balance">Getting your balance</a><ul class="toc-headings"><li><a href="#last-known-balance-for-the-current-account">Last known balance for the current account:</a></li><li><a href="#asynchronous-call-to-the-blockchain-network">Asynchronous call to the blockchain network:</a></li><li><a href="#observing-balance-with-a-blockchain-network-observer">Observing balance with a blockchain network observer:</a></li></ul></li><li><a href="#custom-spend-offer">Custom Spend Offer</a><ul class="toc-headings"><li><a href="#purchase-payment">Purchase Payment</a></li><li><a href="#adding-to-the-marketplace">Adding to the Marketplace</a></li><li><a href="#removing-from-marketplace">Removing from Marketplace</a></li></ul></li><li><a href="#custom-earn-offer">Custom Earn Offer</a><ul class="toc-headings"><li><a href="#request-a-payment">Request A Payment</a></li></ul></li><li><a href="#custom-pay-to-user-offer">Custom Pay To User Offer</a><ul class="toc-headings"><li><a href="#pay-to-user">Pay to user</a></li></ul></li><li><a href="#license">License</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/kin-ecosystem-sdk-docs/docs/getting-started.html">Getting Started</a><a href="/kin-ecosystem-sdk-docs/docs/android.html">Android</a><a href="/kin-ecosystem-sdk-docs/docs/ios.html">IOS</a></div><div><h5>Reddit</h5><a href="https://www.reddit.com/r/KinFoundation/" target="_blank" rel="noreferrer noopener">r/KinFoundation</a><h5>Telegram</h5><a href="https://t.me/KinAnnouncements" target="_blank" rel="noreferrer noopener">Announcements</a><a href="https://t.me/kinfoundation" target="_blank" rel="noreferrer noopener">General</a><a href="https://t.me/kincurrency" target="_blank" rel="noreferrer noopener">Currency</a><a href="https://t.me/kintechnology" target="_blank" rel="noreferrer noopener">Technology</a></div><div><h5>More</h5><a href="https://medium.com/kinfoundation" target="_blank" rel="noreferrer noopener">Kin Blog</a><a href="https://medium.com/inside-kin" target="_blank" rel="noreferrer noopener">Inside Kin Blog</a><a href="https://twitter.com/kin_foundation" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.youtube.com/channel/UCZ0z9fRKhW-GEjQs-_Jxfyg" target="_blank" rel="noreferrer noopener">YouTube</a><a href="https://kinecosystem.org" target="_blank" rel="noreferrer noopener">Kin Ecosystem</a></div></section><section class="copyright">Copyright © 2019 Kin Ecosystem</section></footer></div></body></html>